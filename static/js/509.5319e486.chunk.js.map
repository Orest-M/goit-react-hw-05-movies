{"version":3,"file":"static/js/509.5319e486.chunk.js","mappings":"8PACA,EAAuB,2BAAvB,EAA8D,gCAA9D,EAA0G,gCAA1G,EAA2J,qCAA3J,EAAkN,sC,SC0FlN,EArFqB,WAAO,IAAD,MACzB,GAAkCA,EAAAA,EAAAA,UAAS,MAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA0BF,EAAAA,EAAAA,WAAS,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,EAAY,qBAAGC,EAAAA,EAAAA,MAAcC,aAAjB,aAAG,EAAqBC,YAAxB,QAAgC,IAwBlD,OAtBAC,EAAAA,EAAAA,YAAU,WACRT,GAAS,GACTE,GAAa,GACb,IAAMQ,EAAkB,IAAIC,gBAEtBC,EAAU,mCAAG,8GAESC,EAAAA,EAAAA,IAASV,EAASO,EAAgBI,QAF3C,OAETC,EAFS,OAGfjB,EAAaiB,GAHE,gDAKff,GAAS,GALM,yBAOfE,GAAa,GAPE,4EAAH,qDAYhB,OADAU,IACO,WACLF,EAAgBM,OACjB,CACF,GAAE,CAACb,IAECN,EAQDI,GACK,wCAGLF,GACK,oCAIP,iBAAKkB,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMC,GAAId,EAAV,UACE,mBAAQY,UAAWC,EAAnB,wBAGF,iBAAKD,UAAWC,EAAhB,WACE,gBACEE,IACEvB,EAAUwB,YAAV,yCACsCxB,EAAUwB,aAC5C,iIAENC,IAAI,SACJL,UAAWC,KAEb,4BACE,kCAAKrB,EAAU0B,aAAf,QAAwB1B,EAAU2B,QAClC,wCAAgB3B,EAAU4B,iBAC1B,sCACA,uBAAI5B,EAAU6B,YACd,oCACA,uBAAI7B,EAAU8B,OAAOC,KAAI,SAAAC,GAAI,OAAIA,EAAKL,IAAT,IAAeM,KAAK,eAIrD,iBAAKb,UAAWC,EAAhB,WACE,mDACA,SAAC,KAAD,CAAMC,GAAI,OAAQZ,MAAO,CAAEwB,GAAI5B,GAA/B,mBAGA,SAAC,KAAD,CAAMgB,GAAI,UAAV,yBAGF,SAAC,KAAD,QAhDA,gBAAKa,MAAO,CAAEC,UAAW,SAAUC,SAAU,OAAQC,UAAW,QAAhE,uBAmDL,C","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"info\":\"MovieDetails_info__0TKY1\",\"info__btn\":\"MovieDetails_info__btn__ZZmu0\",\"main-info\":\"MovieDetails_main-info__TDK5c\",\"main-info__img\":\"MovieDetails_main-info__img__+VBjS\",\"additional-info\":\"MovieDetails_additional-info__p2Ahz\"};","import { useState, useEffect } from 'react';\nimport { Link, useLocation, Outlet, useParams } from 'react-router-dom';\nimport { getMovie } from 'services/getMovies';\n\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [currMovie, setCurrMovie] = useState(null);\n  const [error, setError] = useState(false);\n  const [isLoading, setIsloading] = useState(false);\n  const { movieId } = useParams();\n\n  const backLinkHref = useLocation().state?.from ?? '/';\n\n  useEffect(() => {\n    setError(false);\n    setIsloading(true);\n    const abortController = new AbortController();\n\n    const fetchMovie = async () => {\n      try {\n        const movieItem = await getMovie(movieId, abortController.signal);\n        setCurrMovie(movieItem);\n      } catch {\n        setError(true);\n      } finally {\n        setIsloading(false);\n      }\n    };\n\n    fetchMovie();\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId]);\n\n  if (!currMovie) {\n    return (\n      <div style={{ textAlign: 'center', fontSize: '20px', marginTop: '40px' }}>\n        Loading...\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error</div>;\n  }\n\n  return (\n    <div className={css.info}>\n      <Link to={backLinkHref}>\n        <button className={css.info__btn}>Go back</button>\n      </Link>\n\n      <div className={css['main-info']}>\n        <img\n          src={\n            currMovie.poster_path\n              ? `https://image.tmdb.org/t/p/w500${currMovie.poster_path}`\n              : 'https://d3aa3603f5de3f81cb9fdaa5c591a84d5723e3cb.hosting4cdn.com/wp-content/uploads/2020/11/404-poster-not-found-CG17701-1.png'\n          }\n          alt=\"poster\"\n          className={css['main-info__img']}\n        />\n        <div>\n          <h2>{currMovie.title ?? currMovie.name}</h2>\n          <p>User Score: {currMovie.vote_average}</p>\n          <h3>Overview</h3>\n          <p>{currMovie.overview}</p>\n          <h3>Genres</h3>\n          <p>{currMovie.genres.map(item => item.name).join(', ')}</p>\n        </div>\n      </div>\n\n      <div className={css['additional-info']}>\n        <p>Additional information</p>\n        <Link to={'cast'} state={{ id: movieId }}>\n          Cast\n        </Link>\n        <Link to={'reviews'}>Reviews</Link>\n      </div>\n\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["useState","currMovie","setCurrMovie","error","setError","isLoading","setIsloading","movieId","useParams","backLinkHref","useLocation","state","from","useEffect","abortController","AbortController","fetchMovie","getMovie","signal","movieItem","abort","className","css","to","src","poster_path","alt","title","name","vote_average","overview","genres","map","item","join","id","style","textAlign","fontSize","marginTop"],"sourceRoot":""}